@mixin cms-item {
  @include block;
  
  @include padding(100%, $gutter, 0px);
  padding: $gutter * 2 $gutter;
  
  
  figure, div {
    @include block;
    text-align: left;
  }
  
  
  figure {
    @include figure;
    height: row(1);
    
    img {
      height: row(1);
    }
    
    &#craft {
      position: relative;
      top: $gutter;
      
      img {
        height: row(0.7);
      }
    }
  }
  
  div {
    margin-top: $gutter;
    
    &.type {
      @include font(cms-title);
    }
    
    &.description {
      line-height: 1.5;
    }
    
    &.projects {
      span {
        font-style: italic;
      }
    }
  }
}



html.cms {
  @include full-height;
  
  $article-width: col(2);
  $article-margin: 5%;
  $articles-in-a-row: 4;

  body {
    .slider {
      height: row(4);
      width: calc(#{$article-width} * #{$articles-in-a-row} + #{$article-margin} * #{$articles-in-a-row});
      @include t-center;
      position: absolute;
      overflow: hidden;
      
      article {
        width: $article-width;
        margin-right: $article-margin;
        
        &#wordpress, &#jekyll {
          //display: none;
        }
        
        &#craft, &#docpad {
          //display: none;
        }
          
        .container {
          @include cms-item;
        }
      }
    }
  
    .timeline {
      height: $gutter * 3;
      width: calc(#{$article-width} * #{$articles-in-a-row} + #{$article-margin} * #{$articles-in-a-row});
      @include t-center;
      position: absolute;
      overflow: hidden;
      top: 80%;
  
      div {
        width: $article-width;
        margin-right: $article-margin;
        float: left;
        
        position: relative;
        z-index: 1;
        
        .circle {
          @include circle-with-text($gutter * 3);
          @include colors;
          border-width: 1px;
          margin-left: calc(#{$article-width} / 2 - #{$gutter} * 1.5);
        }
      }
  
      .line {
        @include block;
        border-top: 1px solid;
        
        position: relative;
        top: -$gutter - $gutter / 6;
        
        z-index: 0;
      }
    }
  }
}