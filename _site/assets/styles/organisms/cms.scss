@mixin cms {
  .container {
    figure, div {
      @include block;
      margin-bottom: $gutter;
    }
    
    aside {
      .cms {
        @include fixed-width-grid(20em, 5%);
      }
    }
    
    @include landscape {
      @include cms-landscape;
    }
    
    @include portrait {
      @include cms-portrait;
    }
  }
}


@mixin cms-portrait {
  aside {
    @include slider(300%);
    min-height: 30em;
    
    .cms {  
      div {
        max-width: $text-width / 2;
        
        p {
          font-size: large;
        }

        &.type {
          p {
            font-size: $heading-level-1;
            font-weight: 700;
          }
        }
      }
      
      figure {
        img {
          max-height: $gutter * 6;
        }
      }
    }
  }
}



@mixin cms-landscape {
  width: 95%;
  margin-right: 5%;
  margin-top: $gutter;
  
  aside {
    .cms {
      position: relative;

      figure {
        height: $gutter * 4;
        @include figure;
        @include cms-figures;
      }

      .description {
        height: $gutter * 3;
      }

      .year, .type {
        display: none;
      }
    }
  }
}



@mixin cms-figures {
  img {
    position: relative;
    max-height: $gutter * 4;
  }
  
  &#docpad img {
    top: $gutter;
  }
  
  &#craft img {
    max-width: $gutter * 4;
    top: $gutter + $gutter / 4;
  }
}